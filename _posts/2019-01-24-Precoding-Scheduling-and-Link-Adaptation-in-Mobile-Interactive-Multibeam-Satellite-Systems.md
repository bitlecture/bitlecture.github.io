---
layout: post
comments: true
title:  "Precoding Scheduling and Link Adaptation in Mobile Interactive Multibeam Satellite Systems"
excerpt: "-"
date:   2019-01-22 14:42:24 +0000
categories: Notes
---

<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
---

看标题也差不多明白，这篇论文像是一篇基础论文，讲解移动交互多波束卫星系统的预编码、调度与链路自适应问题。这个文章是强化学习解决自适应问题的一个基础吧。正好我也不是很懂这一方面，来看一看好了。

`2019-2-1 10:50:24`

真的感谢通信老师给我上80

`2019-2-2 10:35:23`

注释一下

- 解释一下下面的**网关**，在原文中是`Gateway, GW`这样的表达方式，即网关，是网络层以上实现网络互联的设备，用于两个高层协议不同的网络互联，像是一个翻译设备，是应用层设备。对接收到的信息进行打包并转发。

- **预编码技术**，是一种波束成形的一般化，以支持多天线无线通信的多流（或多层）传输。在传统的单流波束成形中，从每个发射天线发射相同的信号，具有适当的加权可以让信号功率在接收机处输出达到最大化；而当接收机有多个天线时，单流波束成形不能同时最大化所有接收天线处的信号电平。为了最大化多个接收天线系统的吞吐量，通常需要多流(`multi-stream`)传输。

  在点对点系统中，预编码意味着从发射天线发射多个数据流，并使其具有适当的权重，使得链路吞吐量在接收机输出处达到最大化；在多用户**MIMO**中，数据流旨在用于不同用户，并且要求总吞吐量的某些度量达到最大化。

- 第一遍看的时候出现了不少漏洞，第二遍看的时候带着问题解决了一些。至于新的、更为正确的理解是否要贴上来，这里有空再做吧。主要路线其实是看一下简单的链路自适应相关的原理，然后考虑如何使用强化学习方法进行实现。

- 文章有些内容写的很蠢，作者的英语水平一般，第一作者塞尔维亚人。

## 主要原理

`2019-2-4 23:27:54`

如果真的希望通过这个博文了解到这篇论文在说啥，那么只看这一部分就好了，下面是论文的翻译。

<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/MultibeamSatelliteI.png" alt="" data-disqus-identifier="/posts/2015-08-Understanding-LSTMs/disqussion-58">
</div>


<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/MultibeamSatelliteII.png" alt="" data-disqus-identifier="/posts/2015-08-Understanding-LSTMs/disqussion-58">
</div>



- **多波束天线**$${}^{[2]}​$$。以高增益覆盖较大的地面区域，而且又能根据需要调整波束形状。主要都采用相控阵天线。多波束天线能够同时产生多个子波束（或点波束），从而覆盖地面上所关心的区域的天线系统。根据通信需要，有一定的分类
  - **固定区域点波束覆盖**，如上第一个图所示，本文主要介绍的应该就是这种
  - **赋形束覆盖**，点波束在地面上相互迭加, 得到的辐射方向图形成所需要的图形（赋形束）
  - **非固定区域点波束覆盖**，所有点波束在$$3dB$$处彼此相互连接，宗波束覆盖一定面积的区域，但是覆盖区域随卫星移动而移动。用于非同步卫星通信系统。如上面第二个图所示。
- 感叹一下地面信道，比卫星信道复杂很多的样子。王帅这句话应该是没说错。
- 

首先文章简单介绍了若干公式，计算**信道矩阵**等用作`CSI`，然后介绍了一下流程，分析了一下其中的影响因素。主要结论是



`2019-2-4 23:36:22`

未完待续

---

## 摘要   -   Abstract

本文讨论了下一代移动交互式**多波束卫星系统**的预编码(`precoding`)、调度(`scheduling`)和链路自适应(`link adaptation`)问题。

相比固定卫星服务，当用户终端在覆盖范围内进行移动的时，额外的挑战会出现。由于时变信道(`time varying channel`)的原因，网关只能访问到信道状态信息(`Channel State Information, CSI`)的延迟版，而这最终会限制整个系统的性能表现。

然而，相比通常的多用户多输入多输出的地面系统，多波束移动应用中的CSI退化对典型衰落信道和系统假设的影响非常有限。在实际条件下，数值计算的结果表明，与保守的频率复用分配相比，预编码可以在系统的吞吐量(`throughput`)上提供一个非常好的(`attractive`)的增益。

关键词索引：预编码`Precoding`, 多波束卫星系统`multibeam satellite systems`, 自适应编码与调制`adaptive coding and modulation`, 不完全的信道状态信息`imperfect channel state information`

## I - 引入   -   Introduction

移动交互卫星(`Mobile interactive satellite`)通过低用户成本设备提供了全球语音和数据传输服务。由于用户终端(`User terminal, UT`)的要求，它们（移动交互卫星）的硬件与固定服务的一般的高增益天线不同，*因为人们更需要非定向的低剖面天线(`low profile antenna`)。通信服务与数据传输服务往往被分配在**L**波段，因为`L`波段相比`Ka-Ku`波段卫星传输，即使可用带宽很小，但是路径损失(`pathloss`)要小一些。

随着L波段卫星容量(`capacity`)的增加，波束间的高频复用成为一个非常有趣的选择(`interesting alternative`)。事实上，当它？发生在地面系统中时，增加给定频段的频谱效率可以通过更积极的频率复用和干扰缓解技术来实现。

减少多用户干扰既可以在发射机上通过预编码完成，也可以在接收机上通过多用户检测技术完成。虽然后一种方法增加了用户终端(**UT**)的复杂性，但是预编码技术要求使用额外的资源来反馈信道状态信息(**CSI**)，网关(**GW**)设计也需要额外的复杂度。这些从操作者的角度来看，对整个系统的影响是有限的。考虑到预编码在固定卫星服务中的高增益，以及多用户检测技术在移动系统中的有限增益，并考虑到移动系统中追求的低成本用户终端，本文的主要重点放在了预编码方法上。

事实上，由于预编码技术很大程度上依赖于发射机对CSI了解的准确程度，用户终端的移动性通常会降低固定状态下的可实现率。另一方面，L波段移动系统的一个优势是，可以使用单个GW来馈送通过卫星的总流量。这增加了预编码的增益。

本文研究了有延迟的CSI信息对 L波段预编码移动多波束卫星系统 的影响。从作者的了解来看，这应是首次在移动环境下研究卫星通信系统的预编码问题。本文设计了一个全新框架，将移动性纳入到预编码多波束卫星系统中。考虑到用户终端和网关之间存在延迟，并认为速率分配是完美的(`GW对调制和编码进行最优分配`)，我们评估了一种低复杂度的闭式线性预编码技术。由于多波束卫星信道的特殊衰落特性，只有接收到的信号功率受到影响。此外，我们发现给定任意预编码设计  和  理想的调制以及编码方案选择 (`modulation and coding scheme (MCS) selection`)，无论是完美的CSI还是延迟的CSI都会得到相同的各态历经的和速率(`ergodic sum-rate`).

当我们执行一个实际的MCS分配时，理想CSI和延迟CSI的差异出现了。这种性能表现的损失主要是由于 增加固定冗余(`ﬁxed margins`)而减少的中断(`outage`) 引起的。即使是在完美CSI甚至延迟CSI上会出现性能的下降，但预编码在平均吞吐量方面也会有显著提高。具体而言，在比较具有相同传输功率和目标中断(`outage`)  的系统时，预编码能够在单播(`unicast`)传输情况下提供较大的吞吐量增益。

尽管延迟的CSI会影响调度过程，但我们通过使用所建议的调度算法和固定的余量，观察到所考虑的场景具有相当高的增益。

后面的安排主要是

- 第**二**部分描述移动预编码卫星系统的信号与系统模型
- 第**三、四、五**部分描述了指定场景下推荐的预编码、调度与链路自适应算法
- 第**六**部分评估了一个接近现实场景的设想
- 第**七**部分主要是总结结论

---

**符号说明**

- 黑色大写字母表示**矩阵**，黑色小写字母表示**列向量**
- `Hermitian transpose:`$$ (\cdot)^H​$$，我寻思不就是个**共轭转置**吗
- `transpose:`$$(\cdot)^T$$，转置
- `conjugate:`$$(\cdot)^*$$，共轭
- `diagonal(with positive diagonal elements):`$$(\cdot)^+$$，对角阵
- `Trace: `$$Tr(·)$$，矩阵的迹，特征值之和，主对角线元素的和。
- $$\left[ X \right]_{i,j}​$$表示$$X​$$矩阵的$$i​$$行$$j​$$列元素，$$\left[ x \right]_{i}​$$表示$$X​$$向量的$$i​$$行元素
- $$\mid\mid \cdot \mid\mid$$表示弗罗贝尼乌斯范数运算（或希尔伯特-施密特范数），通俗地讲就是**2-范数**；$$\mid\cdot\mid​$$就是绝对值运算符。
- $$\circ$$表示`Hadamard Matrix Product`

## II - 系统与信道模型   -   System Model and Channel Model

### A - 系统模型

假设有一个多波束卫星系统，其中卫星配备有阵列馈电反射天线，总馈源数为$$N$$。这些馈送信号被组合起来形成一个$$K$$波束辐射模式，其中这个$$K$$是一个固定值。在每一帧中，我们假定来自同一波束$$N_u$$用户的多路信号是多路复用(`multiplexed`)的。这是卫星标准中的一种方式，以便通过统计复用实现高帧效率。这其实就是说，每一个时间帧中，$$KN_u$$个用户被提供服务。

考虑到所有波束都在同一频段内辐射，因此可以将任意时刻$$t​$$接收的信号建模为

$$y(t)^{[i]}=H(t)^{[i]}x(t)+n(t)^{[i]};i=1,2,...,N_u;\tag{1}​$$

其中$$y(t)^{[i]}$$是一个复向量，该向量包含了第$$i$$个用户终端的接收信号。

- $$\left[y(t)^{[i]}\right]_k$$代表第$$k$$波束的第$$i$$个用户终端的接收信号
- $$n(t)^{[i]}$$是第$$i$$个用户终端的噪声，假定是0均值单位方差的高斯分布噪声，且噪声之间、噪声与信号之间不相关。
  - $$\mathbb{E}[n(t)^{[i]}n^H(t)^{[i]}]=I_K​$$

信道矩阵可以被描述为

$$H(t)^{[i]}=F(t)^{[i]}\circ \overline{H}(t)^{[i]}\tag{2}​$$

其中$$\overline{H}​$$矩阵的第$$(k,n)​$$项可以由以下计算

$$\left[ \overline{H}(t)^{[i]} \right]_{k,n}=\frac{G_R a_{kn}(t)^{[i]}e^{j\psi_{k,n}(t)^{[i]}}}{4\pi\frac{d_k(t)^{[i]}}{\lambda}\sqrt{K_B T_R B_W}} \tag{3}$$

- $$d_k(t)^{[i]}​$$描述的是第$$k​$$波束的第$$i​$$个用户终端之间的距离
- $$\lambda​$$是载波波长
- $$K_B$$玻尔兹曼常数
- $$B_W$$载波带宽
- $$G_R^2$$用户终端接收天线增益
- $$T_R$$接收机噪声温度
- $$a_{kn}(t)^{[i]}​$$项代表第$$k​$$波束第$$i​$$用户的来自第$$n​$$馈送的增益
- $$\psi_{k,n}(t)^{[i]}​$$是时变相位，其时变性是波束辐射模式和无线信号的传播导致的
- 假定所有的用户终端都采用了相同的天线，即增益与噪声特性

另外$$F(t)^{[i]}$$是一个描述多径传输衰落效应的参量。抛开第$$i$$个用户终端而言，

$$\left[ F(t)\right]_{k,n}=\alpha_k(t)e^{j(\theta_k(t))} \tag{4}$$

$$\theta_k$$和$$\alpha_k$$分别是衰落导致的相位和增益变化，这里先不对这个结果进行建模，但是值得一提的是他们不依赖于馈源。换言之，一个用户终端观测到来自不同馈源的衰落是相同的，因为斜程传输路径`slant path`是相同的

为了降低干扰，采取预编码方式，

$$x(t)=W(t)s(t) \tag{5}$$

- $$s(t)​$$是$$K​$$行复向量，包含我们假定不相关的传输的符号，并且其范数是规范化的($$\mathbb{E}[s(t)^{[i]}s^H(t)^{[i]}]=I_K​$$)
- $$W(t)$$是$$N$$行$$K$$列复矩阵，是需要我们设计的线性预编码矩阵，同时也对传输功率有控制。
- 值得一提的是（这个作者怎么老喜欢用这个词），第$$k$$波束的每一个用户终端都应该检测到导致所谓的多组多播传输的$$[s]_k$$

![1549011946905](https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/1549011946905.png)

*Fig.1. Precoding Gateway Schematic*

事实上，$$W(t)$$应该是被计算的。其计算的参数来自于

- `Gateway`，提供可用信道矩阵的估计值
- $$H(t)^{[i]}$$该参数随着用户终端的改变而改变。（操  这里我要骂人了，论文作者也不考证一下differ to到底是个啥词就瞎用，英语里面根本没这个说法，谁知道他是啥意思，**英语真烂**）
- $$H(t+\tau)^{[i]}$$，用户终端估计自己的`CSI`的时刻与预编码矩阵（根据上述CSI计算的结果）应用在用户终端上的时刻 的差为$$\tau$$。我们后面就称$$\tau$$为反馈延迟。
- 认为上述延迟$$\tau$$在所有用户终端是相同的。

系统和速率定义为

$$\mathit{SR}=\sum\limits_{k=1}^K \min\limits_{i=1,...,N_u}log_2\left( 1+SINR_K^{[i]} \right) \tag{6}$$

- $$SINR_k^{[i]}$$即第$$k$$波束第$$i$$用户的`signal-to-noise-plus-interference ratio`，正规地说应该是`Signal to Interference plus Noise Ratio`，信号与干扰加噪声的比，这个数可以认为与信噪比相似。**写这个文章的人英语可是挺烂的。**

这个比值的定义为

$$SINR_k^{[i]}=\frac{\mid h_k^{[i],H}w_k \mid^2}{\sum_{j\neq k}\mid h_k^{[i],H}w_k \mid^2+1}\tag{7}​$$

这里忽略了时间的依赖性。$$h_k^{[i],H}$$和$$w_k$$两个值分别是$$H^{[i]}$$和$$W$$的第$$k$$行$$k$$列的值。由于我们是考虑了多播传输，因此每时间帧中的可实现数据传输速率是由包含在帧中的$$N_u$$个用户中$$SINR$$最低的那个决定的。

根据上面的描述，$$SINR$$是由用户的选择而决定的。下一部分将详细讲述这个设计背后的假设。

### B - 架构与假设

在执行预编码操作之前，发射机应该通过调度算法选择要在每个波束处服务的用户。然后，应选定此条件下最适合每一时间帧的调制和编码方案。与编码矩阵基于被选定的用户计算，并以单个帧的粒度应用。假定所有上述操作都在`Gateway`处执行，如上图`Figure 1`所示。

本文介绍的工作中，网关处的调度一定要在预编码计算之前执行，因为计算需要被选择的用户的信道矢量。另外，调制与编码方案的选择要在预编码计算后完成，因为其得到的$$SINR$$需要取决于预编码方案的设计。

考虑到上述问题，传输性能是取决于用户终端们反对信道状态信息**CSI**的准确性的。特别地，整体性能是取决于反馈延迟$$\tau$$的，反馈延迟越小，发射机处收到的**CSI**就越精确。下面将讨论这个重要参数$$\tau​$$

这个延迟$$\tau$$由以下原因产生

- 由于是卫星通信，其影响因素一定包括 **CSI**由发送到卫星（对地静止卫星），再由卫星传送回`Gateway`的时间。强调对地静止卫星，是便于计算其传输时间。这个时间大约是$$250ms$$
- `Gateway`根据接受到的信息计算预编码矩阵的时间，假设为$$100ms$$
- 计算结果从`Gateway`发射到卫星，再通过卫星返回用户终端的时间，假设为$$250ms$$，与第一个相同
- 用户终端的处理时间，假定为$$100ms$$

考虑到上述影响因素，我们设延迟的近似值$$\tau=700ms$$。有了这个延迟，前面涉及$$\tau$$的建模将更加精确。

> 这里有一段话突然分析省去了一个可能比较重要的量。实际上我很不理解论文中为什么要建立一个看起来比较复杂的模型，然后经过一段简单的分析，得出模型中很多参量可以省去或经验取值。既然如此你为什么要建立那个复杂模型呢，退一步讲，你建模的时候说一下，就不要凭空给模型加复杂度了吧。即使这一段话确实有理，但是我也不得不怀疑是有意而言之的，其目的也是司马昭之心。

前面的算式$$(3)$$引入了$$\alpha_{k,n},\psi_{k,n},d_k$$，用于描述第$$k$$波束第$$i$$用户的来自第$$n$$馈送的增益（这里省去用户$$i$$）、相位，还有不同用户终端与其的距离。但是我们仔细来看，即使这个参量很有可能对预编码产生不利影响，例如可能至少会由于变化导致计算时某个量的抖动等，导致因为延迟使得结果并不精确。然而根据卫星天线方向图，我们很容易知道，因为波束的半径大多在数百千米量级，因此用户在短时间内移动距离可能很小，例如至少在几百米内，而这区间内的增益衰落基本上不会发生改变。除非你是在坐喷气式飞机。现实中的应用条件下，无论是用户终端还是卫星基本上都不会达到对增益幅度产生严重影响的量级。因此短时间内这些量都是慢变化量，即

$$\alpha_{kn}(t+\tau)=\alpha_{kn}(t)​$$

$$\psi_{kn}(t+\tau)=\psi_{kn}(t)$$

$$d_{k}(t+\tau)=d_{k}(t)$$

那么现在看来产生影响的主要因素就是衰落(`Fading`)问题了。

### C - 衰落模型

本小节介绍一下应用上述假设和方法的信道模型。假定工作频率在L、S波段，因此移动卫星通信信道中考虑的影响很大程度取决于用户终端所处的环境。对于陆地移通通信信道，目前已经有了许多衰落分布的包络统计数据，例如Rice、Rayleigh、Loo、Suzuki或Corazza Vatalaro模型。此外，最近的研究也表明逆高斯分布可以模拟大规模树木阴影环境效应。

在具有相对低速的L波段移动卫星系统中，用户终端允许一定程度的天线方向性（前面讲到了），此时**Rice**分布是信道衰落的良好近似。在这种情况下，信号传播受到用户终端附近的大量散射体的影响。在大多数方法中，这些散射体是通过对不同方向接收信号求和来建模的，因此复信号的包络被表示为

$$r_{NLOS}(t)=X(t)+jY(t)\tag{10}​$$

此时$$X(t)$$和$$Y(t)$$是0均值$$\sigma^2$$方差的高斯随机变量，其方差与多径强度有关。在这些类型的系统中，进一步假设，除了了从散射体反射的信号以外，还认为接收到了地面站和卫星之间的视线直接信号，否则建立链接是很困难的。假设直接信号的幅度为$$\xi$$，那么接收信号就可以表示为

$$r(t)=X(t)+jY(t)+\xi\tag{11}$$

对于式(11)形式，接收的幅度概率密度函数就是`Rice`分布的

$$p(\mid r\mid)=\frac{r}{\sigma^2}exp\left( -\frac{\mid r\mid^2+\xi^2}{2\sigma^2} \right)I_0\left( \frac{\xi\mid r\mid}{\sigma^2} \right)\tag{12}$$

其中$$I_0$$是0阶修正的第一类修正贝塞尔函数。在莱斯(`Rice`)信道中定义$$\kappa-factor$$，描述载波与多径比（直接接收的载波与多径接收的载波功率比率，C/M，似乎在航空常见）

$$\kappa=\frac{\xi^2}{2\sigma^2}\tag{13}$$

对数形式为$$\kappa_{dB}=10log_{10}(\kappa)$$

然而在我们的场景中，终端的移动性遵从多普勒效应的动态变化。多普勒效应可以通过适当的滤波器作用于$$r(t)$$来获取。在本文中采用`Butterworth Filter`进行获取，其阶数为$$N_B$$时的表达式为

$$\mid H_B(f) \mid^2=\frac{A}{1+(\frac{f}{f_C})^{2N_B}}\tag{14}$$

其中$$f_C​$$时截止频率。当前的场景中，假定最大速度为$$\nu_m​$$，则最大多普勒频移为$$f_m=\frac{\nu_m}{\lambda}​$$。那么此滤波器在$$0.9f_m​$$处达到$$3dB​$$衰减，在$$3f_m​$$时达到$$100dB​$$衰减。

|        Scenario        | Carrier over Multipath ratio (dB) | Speed (kmph) | Maximum Doppler Freq (Hz) | Coherence Time (s) |
| :--------------------: | --------------------------------- | ------------ | ------------------------- | ------------------ |
|      Slow Nomadic      | 15                                | 3            | 4.44                      | 0.2252             |
|        Maritime        | 15                                | 21.6         | 32                        | 0.0313             |
| Maritime Low Elevation | 10                                | 21.6         | 32                        | 0.0313             |

本文中涉及的应用场景如表。在这些情况下，衰落时间可变性可能影响预编码操作，这将在下一节评估。

## III - 移动卫星系统中的预编码   -   PRECODING IN MOBILE SATELLITE SYSTEMS

### A - CSI滞后效应

为了避免重复使用上标$$i$$，我们将第$$k$$个波束的用户的$$SINR$$写作

$$SINR^{delayed\:CSI}_k=\frac{\mid \alpha_k(t+\tau)e^{j\theta_k(t+\tau)}\overline{h}^H_k(t)w_k(t) \mid^2}{\sum_{j\neq k} \mid \alpha_k(t+\tau)e^{j\theta_k(t+\tau)}\overline{h}^H_k(t)w_k(t) \mid^2 +1}\tag{15}$$

这里的$$\overline{h}_k​$$是$$\overline{H}​$$的第$$k​$$行。

由于相位对每个馈送信号影响是相同的，这对SINR没有影响。（胡说八道么这不是，明明是从计算的角度说，绝对值里面的相位影响消掉了）

那么原式可以写作

$$SINR^{delayed\:CSI}_k=\frac{\alpha_k^2(t+\tau)\mid \overline{h}^H_k(t)w_k(t) \mid^2}{\sum_{j\neq k} \alpha_k^2(t+\tau)\mid \overline{h}^H_k(t)w_k(t) \mid^2 +1}\tag{16}$$

>备注： 在具有固定预编码的多波束卫星系统中，由于CSI延迟效应 导致的SINR下降的唯一因素是幅度$$\alpha$$；另外没有延迟的记为$$SINR^{perfect}$$，将算式中的$$t+\tau$$换成$$t$$即可。

注意衰落幅度变化$$\alpha_k(t)$$的影响对于信号功率的期望部分  和  干扰部分 是相同的，但是不会影响噪声。这意味着如果链路受到高度干扰限制**，那么衰落幅度对预编码的影响也可以忽略不计**（谁来告诉我这是为啥）。这类情况很少发生，因为预编码信噪比（SIR）往往很大，移动卫星系统信噪比（`SNR`）通常受限。此外仍需要注意，常见的衰落幅度变化的影响不同于自动增益控制在用户终端接收机的影响。`AGC`的增益是对噪声一视同仁的，也是因此`AGC`的幅度改变与预编码性能无关。

再稍微进一步研究一下$$SINR$$的延迟效应。从表达式上看似乎是受到$$\alpha$$的直接控制。简单推导一下我们可以知道，当$$\alpha_{k}(t+\tau)>\alpha_k(t)​$$时，延迟后的`SINR`会更大。至于是为啥我们可以简单推一下。

假设发射机在时刻$$t$$基于$$H(t)$$计算了$$W(t)$$，注意$$H(t)$$是基于$$\overline{H}(t)$$与衰落矩阵$$F(t)$$得到的；在$$t+\tau$$时刻，我们认为$$W(t)$$还没有改变，而此时的无衰减信道状态认为$$\overline{H}(t)$$是不变的。我们认为随着延迟的变化，计算出来的$$H(t)$$改变了。但是由于

$$SINR^{delayed\: CSI}_k \sim SINR^{perfect\: CSI}_k\tag{17}$$

即二者的分布是相同的，对于给定的$$W$$矩阵，二者的概率密度函数是相同的。这一段主要参考了$$(12)$$所示的计算结果，即衰落的描述$$\alpha$$是莱斯分布的，因此两者$$SINR$$的概率密度函数也是相同的。

那么`sum-rate`在不同的`CSI`条件下分别为

$$\mathit{SR}=\sum\limits_{k=1}^K \min\limits_{i=1,...,N_u}log_2\left( 1+SINR_K^{[i]} \right)\tag{6}​$$

因此对于不同的`SINR`，期望都是相同的。

$$\mathbb{E} \{ \mathit{SR}^{delayed} \}=\mathbb{E} \{ \mathit{SR}^{perfect} \}\tag{18}$$

> 对于任意给定$$W$$矩阵，无论给予是否延迟的`CSI`信息，其`sum-rate`统计平均值始终是相同的。这里的统计平均既有无限长时间，也有无穷多的次数，是统计意义上的平均。
>
> 另外这个结果不适用于一般的地面情况，因为地面信道比较复杂。例如在`MIMO`蜂窝系统中不同信道基本上是完全不同的，这时候就不仅仅取决于衰落了。明显感到了地面信道的复杂性，主要还是卫星信道比较简单。
>
> 这里介绍的内容还比较简单，并不涉及过分的内容。

### B - 预编码器设计

`Precoder Design`

根据已有的文献介绍，以下设计方法可以在复杂度与性能权衡中达到最优设计

$$W_{MMSE}=\gamma_{MMSE}\left( \hat{H}^H\hat{H}+\frac{1}{P_{max}}I_N \right)^{-1}\hat{H}^H\tag{19}​$$

其中的$$\gamma_{MMSE}​$$是控制发射功率的系数。而信道矩阵的**估计**为

$$\hat{H}=\frac{1}{N_u}\sum\limits_{i=1}^{N_u} H^{[i]}\tag{20}$$

即每一位用户的信道矩阵的均值**等效**(`equivalent`)。

关于功率分配，我们假设有效载荷配备了灵活的多端口放大器，其中总功率在波束之间共享; 因此，设置$$\gamma_{MMSE}$$

$$\gamma_{MMSE}^2=\frac{P_{max}}{Tr\left( W_{MMSE}^H W_{MMSE} \right)}\tag{21}​$$

分子是发射机总功率，该结果为总功率约束常数。

对于第$$k$$个波束而言，其预编码矩阵可以写作

$$w_k=\frac{\gamma_{MMSE}}{\hat{\alpha_k}}\left( \sum\limits_{l=1}^K\hat{h_l}\hat{h_l}^H+\frac{1}{\hat{\alpha_k}^2P_{max}}I_N \right)^{-1}\hat{h_k}\tag{22}​$$

其中信道矩阵的估计采用了$$\overline{h_k}$$的估计，可能是因为$$\alpha$$影响被单独提出来了。目前看来不同的`CSI`的影响主要体现在正则化项($$\frac{1}{\hat{\alpha_k}^2P_{max}}$$)与功率控制因子的不匹配。这些缺陷可能导致具有延迟`CSI`的预编码多波束卫星系统的瞬时可实现速率的降低。

*这一段我都不知道在说啥*

## IV - 调度   -   SCHEDULING

> 调度一直是一个学问。调度在各种应用中也一直是一个难题，很多时候调度直接或间接地决定了系统的性能。

多播(`multicast`)一定程度上限制了可实现速率，因为同时服务了具有不同信道增益的用户，不同用户的信道不完全相同，此时的实现速率只能选取速率最低的用户。为了解决这个问题，发射机应该巧妙地选择在给定时刻具有相似信道矢量的$$N_u​$$个用户。当不同用户之间的信道矢量的共线性越强，我们就越容易实现最大可实现速率。因此需要使用特殊的调度算法。

下面介绍**算法1**(`Algorithm I`)，对于每个波束，该调度机制可以在`Gateway`中并行完成。

<div style="width:100%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/AlgorithmI.png" alt="" >
</div>
$$\mathit{I}_k$$是用户集，调度的性能以及整个预编码系统的性能强烈依赖于$$\mid \mathit{I}_k \mid​$$，即给定时刻服务的用户密度。这个密度越高，我们认为调度方案越有效。

该方法首先随机选择一个用户$$i \in \mathit{I}_k$$，然后再选择其他的$$N_u -1$$个人进行服务。用户的选择是基于最小化范数误差来进行的。详细一点说就是，首先选择随机一位编号为$$i$$的用户，其信道矢量分别为$$h_k^{[i]}$$；然后在$$\mathit{I}_k-\{i\}$$集合中找出信道矢量之间范数误差最小的$$N_u-1$$个。这个也叫欧氏距离(`Euclidean distance`)最小的。

这里需要注意的是，计算范数误差时，由于计算的是$$h$$之间的误差，因此衰落的幅度相位都会导致结果产生不同。上述的$$\chi$$的值，即范数误差的值，会随着`Gateway`是否收到`perfect`或`delayed`的`CSI`而变动。

## V - 链路自适应   -   LINK ADAPTATION

发射机(`Gateway`)需要为每一时间帧选择最合适的调制与编码方案。这个决策是在每个波束内基于每一个$$SINR_k^{[i]}(t)​$$，这代表的是`perfect CSI`状态下的$$SINR​$$。在理想状态下，发射机知道了信道的$$SINR_k^{[i]}(t+\tau)​$$，即`delayed CSI`状态下的$$SINR​$$，调制编码方案就会基于该$$SINR​$$来选择。

$$MCS_k(t)=\prod\left( \min\limits_{i=1,...,N_u} SINR_k^{[i]}(t+\tau) \right)\: bits/s/Hz\tag{23}​$$

$$\prod(·)$$是分段线性函数，即根据$$SINR$$来选择一个合适的频谱效率。

不幸的是，由于`CSI`延迟效应，接收机并不能知道信道的$$SINR_k^{[i]}(t+\tau)$$，这将导致`MCS`选项与信道状态不匹配，这有可能导致传输的中断等（例如接收机不能正确地将某一时间帧的数据解调或解码）。我们定义一个中断函数

当取值为

$$\mathit{O}_k^{[i]}=1\tag{24}​$$

此时我们有

$$SINR_k^{[i]}(t+\tau)<\eta_k(t)\tag{25}​$$

其中$$\eta_k(t)$$是$$SINR$$的阈值，

$$\eta_k(t)=\prod^{-1}\left( MCS_k\left(t\right) \right)\tag{26}$$

否则如果

$$SINR_k^{[i]}(t+\tau)\geq \eta_k(t)\tag{27}$$

我们取$$\mathit{O}_k^{[i]}=0$$。



为了使中断概率保持在一定阈值之下，我们采用一种手段如下

$$MCS_k(t)=\prod\left( \min\limits_{i=1,...,N_u} SINR_k^{[i]}(t)/\mu_k \right)\tag{28}$$

其中$$\mu_k$$是边界值(`margin value`)，这个数值根据不同情境、用户数量、预编码功率控制和最大发射功率等多个参数进行大量广泛的数值模拟计算得到。



## VI - 数值结果   -   NUMERICAL RESULTS

对用户调度、链路自适应和预编码数值仿真是基于$$N=K=32$$的基础进行的，即天线阵有32馈源，而波束也有32个。该系统的馈电辐射方向图是典型的多波束卫星系统，工作频率是`L`波段。其他详细参数在下表中描述

![1549547033216](https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/SystemParameters.png)

基础场景采用的馈送辐射方向图是相邻波束在不相交的频带内操作，最小化多波束干扰。预编码方法应用于全频复用(`full frequency reuse, FFR Precoding`)的情况，调制与编码方案采用的是`ETSI TS 102 744-2-1`标准通信提供的`MCS`子集，用于移动交互式窄带通信的参考系统。所考虑的MCS子集在下表中描述，其中假设目标分组错误率为$$10^{-3}$$。

<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/ProdFunction.png" alt="" >
</div>

在所有的条件下，我们定义整个多波束卫星系统平均吞吐量为

$$\mathit{TH}=B\sum\limits_{k=1}^{K}\frac{1}{N_u}\sum\limits_{i=1}^{N_u}\mathit{O}_k^{[i]}\prod(\eta_k)$$

运算基于500次蒙特卡洛(`Monte Carlo`)循环

### A - 单用户条件

首先在单用户的情况中展示了性能。平均吞吐量考虑到慢变化并且在海上的低海拔状况，对于边界(`margin`)情况，考虑到

- 所有边界条件$$\mu_k$$都是相同为$$\mu$$的
- 指定两个边界条件，$$\mu=0dB$$和$$\mu=5dB$$

假设此时`Gateway`能够执行无延迟`perfect CSI`的调制编码调度`MCS`方案。在所有结果中，四舍五入延迟为$$1s​$$，并且假设预编码就是根据这个延迟计算的。

<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/Fig2.png" alt="" >
</div>



<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/Fig3.png" alt="" >
</div>
上方两个图展示的是通信出错的概率随每个集群(`cluster`)功率的变化，分别是缓慢变化的和海上的低海拔场景。当我们还没有采用`margin`的时候，我们看到基线情景显示没有预编码的时候会产生更大的中断概率，但是他们都不符合实际通信系统的中断性能目标。当采用固定的`margin`时结果相似，即基线情况和预编码情况采用固定`margin`处理中断概率都是刻意的。在这两种情况下，拥有$$\mu=5dB$$固定`margin`的情况下，中断概率十分接近于$$0$$。

<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/Fig45.png" alt="" >
</div>
上方两个图描述的是平均吞吐量。在`Gateway`理想地选择调制编码调度的条件下，预编码可以在两种情况下提供较大的吞吐增益。特别地，当32个波束簇的最大可用功率为`32W`时，平均吞吐量增益可达`55%`。需要重要指出的是，该增益是在采用`delayed CSI`版信道矩阵计算预编码矩阵的。

当调制编码调度基于延迟`CSI`进行选择的时候，差异就显示了出来。当没有使用`margin`的时候，观察到的增益是有限的；在$$\mu=5dB$$的条件下，我们可以看出基线情景甚至比预编码的更好。

显然固定`margin`在预编码移动多波束卫星系统中有着重要作用。为了公平对比一下基线系统和上述提出条件下的系统，我们在一个合理的标准下比较了两种方法，对于慢变化情景给予目标为中断概率`0.05`，海面（低海平面）给予目标为中断概率`0.1`。具体而言，我们针对上述给出的实现目标计算$$\mu^{FFR\:Precoding}$$和$$\mu^{Baseline}$$。这俩分别是预编码场景和基线场景。算出来`margin`后我们计算并评估了平均吞吐量的差异。在本次评估中我们假定所有用户调度都是在$$\mid \mathit{I}_k\mid=300$$试验用户中进行的。实验结果显示在下图中，发射功率为`64w`，服务用户数取`1、2、5`人。显然我们看出多播的效率不及单播，但是尽管如此吞吐量增益还是比较高的，每时间帧`5`用户数的时候大约有`20%`的增益，每时间帧`2`用户的时候有`40%`的增益。

<div style="width:50%; margin-left:auto; margin-right:auto; margin-bottom:8px; margin-top:8px;">
<img src="https://raw.githubusercontent.com/psycholsc/psycholsc.github.io/master/assets/Fig678.png" alt="" >
</div>
值得注意的是，考虑到`IP packets`大小以及我们所考虑的数据帧大小，通常在一个帧中设置五个服务用户。当然这里还是计算了每种情况下十位用户的极端情景。这时候已经没有了增益，甚至有轻微的下降。

> 该上限有助于系统设计者理解采用预编码的移动交互系统的成帧要求。




## VII - 结论   -   CONCLUSIONS 

`2019-2-7 23:18:12`

**机翻一段**改日修正

全频复用固定卫星系统的预编码已经达到了研究的成熟水平，考虑到其潜在的收益，运营商正在考虑实施预编码。本研究探讨了预编码在全频复用移动交互式多波束卫星系统中的应用，涉及到整合各种移动场景（缓慢游牧(`slow nomadic`，真不知道该怎么翻译)、海上和海上低海拔）的信道模型，跨越了不同终端速度范围。基于这些信道模型，研究了发射机中过期的`CSI`对现有预编码技术的使用造成的阻碍。由于卫星通信的衰落特性对期望信号和干扰信号都有同样的影响，这表明预编码矩阵对过时的幅度敏感，而对信道的相位不敏感。

在移动`L`波段类型的系统上评估预编码技术的性能，表明在执行完美速率分配并使用固定预编码矩阵的情况下，所考虑的场景不会遭受遍历的和速率降低影响。

相反，在速率分配基于SINR的延迟版本的情况下，观察到和速率下降。尽管存在性能损失，但所提出的技术可以在给定所有考虑的场景的指定中断概率目标的情况下增加平均吞吐量。



`2019-2-8 14:20:32`

仍有一部分内容不是很懂，已经问了老师= =没有回复

先完结了，开新坑









---

`2019-1-22 15:34:41`

看不懂，还是看不懂，啥都看不懂，他们好厉害啊怎么啥都会。

## Reference

[1] [Precoding Scheduling and Link Adaptation in Mobile Interactive Multibeam Satellite Systems](https://ieeexplore.ieee.org/document/8353925)

[2] 周乐柱 卫星通信多波束天线综述